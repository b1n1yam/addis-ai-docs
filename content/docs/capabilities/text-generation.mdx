---
title: Text Generation
description: Chat, summarization, and RAG optimized for Ethiopian languages.
icon: MessageSquareText
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { TypeTable } from 'fumadocs-ui/components/type-table';
import { Callout } from 'fumadocs-ui/components/callout';

The Text Generation API is powered by **`Addis-፩-አሌፍ`**, our flagship Large Language Model. 

Our model is trained on extensive native datasets to master not only the complex **morphology** (word structure) and **syntax** but also the deep **cultural context ** of Ethiopia. It is **culturally nuanced**, understanding the specific way we live, interact, and communicate ensuring every response feels natural, respectful, and authentic to our reality.
## Endpoint

<div className="flex items-center gap-2 border border-fd-border p-3 rounded-lg bg-fd-muted/50 font-mono text-sm my-4">
  <span className="bg-blue-600 text-white px-2 py-0.5 rounded text-xs font-bold">POST</span>
  <span className="text-fd-foreground">https://api.addisassistant.com/api/v1/chat_generate</span>
</div>

---

## Usage Guide

You can use this endpoint for simple one-off tasks (like translation) or complex multi-turn conversations.

### 1. Basic Request
Send a prompt and a target language to get an immediate response.

<Tabs items={['cURL', 'JavaScript', 'Python']}>
    <Tab value="cURL">
        ```bash
        curl -X POST https://api.addisassistant.com/api/v1/chat_generate \
        -H "Content-Type: application/json" \
        -H "X-API-Key: sk_YOUR_KEY" \
        -d '{
            "prompt": "የአድዋ ጦርነት ታሪክ በአጭሩ",
            "target_language": "am",
            "generation_config": {
            "temperature": 0.7
            }
        }'
        ```
    </Tab>
  <Tab value="JavaScript">
    ```javascript
    // Full Example: Basic Text Generation
    const API_KEY = "sk_YOUR_KEY";

    async function generateText() {
      try {
        const response = await fetch("https://api.addisassistant.com/api/v1/chat_generate", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "X-API-Key": API_KEY,
          },
          body: JSON.stringify({
            prompt: "የአድዋ ጦርነት ታሪክ በአጭሩ", // "History of Adwa briefly"
            target_language: "am",
            generation_config: {
              temperature: 0.7,
              maxOutputTokens: 500
            }
          }),
        });

        if (!response.ok) throw new Error(`Error: ${response.status}`);

        const data = await response.json();
        console.log("Response:", data.response_text);
      } catch (error) {
        console.error(error);
      }
    }

    generateText();
    ```
  </Tab>
  <Tab value="Python">
    ```python
    import requests

    def generate_text():
        url = "https://api.addisassistant.com/api/v1/chat_generate"
        headers = {"X-API-Key": "sk_YOUR_KEY"}
        
        payload = {
            "prompt": "የአድዋ ጦርነት ታሪክ በአጭሩ",
            "target_language": "am",
            "generation_config": {
                "temperature": 0.7,
                "maxOutputTokens": 500
            }
        }

        try:
            response = requests.post(url, headers=headers, json=payload)
            response.raise_for_status() # Check for errors
            
            data = response.json()
            print("Response:", data['response_text'])
            
        except requests.exceptions.RequestException as e:
            print(f"Error: {e}")

    generate_text()
    ```
  </Tab>
  
</Tabs>

### 2. Multi-Turn Chat (Context)
The API is **stateless**. This means the model does not "remember" what you said in the previous request. 

To build a chatbot that maintains context, you must append the conversation history to the `conversation_history` array in every new request.

<Tabs items={['cURL', 'JavaScript', 'Python']}>
  <Tab value="cURL">
    ```bash
    curl --location 'https://api.addisassistant.com/api/v1/chat_generate' \
    --header 'X-API-Key: sk_YOUR_KEY' \
    --header 'Content-Type: application/json' \
    --data '{
      "prompt": "በጣም ጥሩ። ለነዚህ ለጁኒየር ዴቨሎፐር ስራዎች በብዛት የሚፈለጉት የፕሮግራሚንግ ቋንቋዎች የትኞቹ ናቸው?",
      "target_language": "am",
      "conversation_history": [
        {
            "role": "user",
            "content": "በሶፍትዌር ኢንጂነሪንግ ተመርቄያለሁ። አዲስ አበባ ውስጥ ለጀማሪዎች ምን አይነት የስራ እድሎች አሉ?"
        },
        {
            "role": "assistant",
            "content": "እንኳን ደስ አለህ! በአዲስ አበባ ለሶፍትዌር ኢንጂነሪንግ ተመራቂዎች እንደ ጁኒየር ዴቨሎፐር፣ የሶፍትዌር ጥራት ማረጋገጫ (QA) እና የ የቴክኒክ ድጋፍ ስፔሻሊስት ያሉ እድሎች አሉ።"
        }
      ],
      "generation_config": {
        "temperature": 0.7,
        "stream": false,
        "maxOutputTokens": 1200
      }
    }'
    ```
  </Tab>
  <Tab value="JavaScript">
    ```javascript
    // Full Example: Chat with History
    const API_KEY = "sk_YOUR_KEY";

    async function chatWithHistory() {
      // 1. Define the conversation history so far
      const history = [
        { role: "user", content: "ኢትዮጵያ ውስጥ ስንት ክልሎች አሉ?" },
        { role: "assistant", content: "በአሁኑ ጊዜ 12 ክልሎች አሉ።" }
      ];

      // 2. Send the NEW question along with the HISTORY
      try {
        const response = await fetch("https://api.addisassistant.com/api/v1/chat_generate", {
          method: "POST",
          headers: { 
            "Content-Type": "application/json",
            "X-API-Key": API_KEY 
          },
          body: JSON.stringify({
            prompt: "የሁለተኛው ክልል ስም ማን ነው?", // "What is the name of the second one?"
            target_language: "am",
            conversation_history: history // <--- Important: Pass history here
          }),
        });

        const data = await response.json();
        console.log("Answer:", data.response_text);
        
      } catch (error) {
        console.error("Chat Failed:", error);
      }
    }

    chatWithHistory();
    ```
  </Tab>
  <Tab value="Python">
    ```python
    import requests

    def chat_with_history():
        # 1. Define the conversation history so far
        history = [
            {"role": "user", "content": "ኢትዮጵያ ውስጥ ስንት ክልሎች አሉ?"},
            {"role": "assistant", "content": "በአሁኑ ጊዜ 12 ክልሎች አሉ።"}
        ]

        # 2. Send the NEW question along with the HISTORY
        payload = {
            "prompt": "የሁለተኛው ክልል ስም ማን ነው?",
            "target_language": "am",
            "conversation_history": history
        }
        
        try:
            response = requests.post(
                "https://api.addisassistant.com/api/v1/chat_generate", 
                headers={"X-API-Key": "sk_KEY"}, 
                json=payload
            )
            response.raise_for_status()
            
            data = response.json()
            print("Answer:", data['response_text'])
            
        except Exception as e:
            print(f"Chat Failed: {e}")

    chat_with_history()
    ```
  </Tab>
</Tabs>

---

## API Reference

### Request Parameters
These parameters go in the root of your JSON body.

<TypeTable
  type={{
    'prompt': {
      description: 'The user input text or question.',
      type: 'string',
      required: true
    },
    'target_language': {
      description: 'Output language code. Use "am" for Amharic or "om" for Afan Oromo.',
      type: 'string',
      required: true
    },
    'conversation_history': {
      description: 'Array of previous message objects to maintain context.',
      type: 'array',
      default: '[]'
    },
    'generation_config': {
      description: 'Configuration object for model behavior (see below).',
      type: 'object',
      default: '{}'
    }
  }}
/>

### Generation Config
Use `generation_config` to tune the creativity and length of the response.

<TypeTable
  type={{
    'temperature': {
      description: 'Controls creativity (0.0 to 1.0). Use 0.2 for factual Q&A, 0.7 for creative writing.',
      type: 'number',
      default: '0.7'
    },
    'maxOutputTokens': {
      description: 'Limit the maximum length of the response.',
      type: 'number',
      default: '1024'
    },
    'topP': {
      description: 'Nucleus sampling probability.',
      type: 'number',
      default: '0.9'
    },
    'topK': {
      description: 'Top-K sampling parameter.',
      type: 'number',
      default: '40'
    }
  }}
/>

### Response Schema
The API returns a JSON object.

```json
{
  "response_text": "The generated text response...",
  "finish_reason": "stop",
  "usage_metadata": {
    "prompt_token_count": 12,
    "candidates_token_count": 45,
    "total_token_count": 57
  },
  "modelVersion": "Addis-፩-አሌፍ"
}

```
<TypeTable
type={{
'response_text': {
description: 'The main output text generated by the model.',
type: 'string'
},
'finish_reason': {
description: 'Why the generation stopped (e.g., "stop", "length").',
type: 'string'
},
'usage_metadata': {
description: 'Token usage statistics for billing and limits.',
type: 'object'
},
'modelVersion': {
description: 'The identifier of the specific model version used.',
type: 'string'
}
}}
/>
<Callout type="info" title="Token Counting">
Note that for Amharic, token counts may be higher than English due to the Ge'ez script encoding. Typically **1 word ≈ 1.5 to 1.8 tokens**.
</Callout>

---


## Best Practices

Follow these architectural patterns to ensure production readiness.

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">

  {/* Temperature Card */}
  <div className="flex flex-col p-5 rounded-lg border border-fd-border bg-fd-card shadow-sm transition-all hover:border-fd-primary/30">
    <div className="flex items-center gap-2.5 mb-4">
      <Thermometer className="w-4 h-4 text-blue-500" />
      <h3 className="font-semibold text-sm text-fd-foreground uppercase tracking-wide">Temperature</h3>
    </div>
    <div className="space-y-3 text-sm text-fd-muted-foreground">
      <div className="grid grid-cols-[85px_1fr] items-start gap-2">
        <code className="text-xs bg-fd-secondary px-1.5 py-0.5 rounded text-fd-foreground text-center border border-fd-border">0.1 - 0.3</code>
        <span>**Factual.** Extraction, translation, and historical data.</span>
      </div>
      <div className="grid grid-cols-[85px_1fr] items-start gap-2">
        <code className="text-xs bg-fd-secondary px-1.5 py-0.5 rounded text-fd-foreground text-center border border-fd-border">0.7 - 0.9</code>
        <span>**Creative.** Storytelling, brainstorming, and casual chat.</span>
      </div>
    </div>
  </div>

  {/* Language Card */}
  <div className="flex flex-col p-5 rounded-lg border border-fd-border bg-fd-card shadow-sm transition-all hover:border-fd-primary/30">
    <div className="flex items-center gap-2.5 mb-4">
      <Languages className="w-4 h-4 text-green-500" />
      <h3 className="font-semibold text-sm text-fd-foreground uppercase tracking-wide">Localization</h3>
    </div>
    <div className="space-y-3 text-sm text-fd-muted-foreground">
      <div>
        <strong className="text-fd-foreground">Native Script:</strong> Models perform significantly better with Ge'ez input (e.g., "ሰላም") than Latin ("Selam").
      </div>
      <div>
        <strong className="text-fd-foreground">Explicit Mode:</strong> Always set the <code>target_language</code> param to <code>"am"</code> or <code>"om"</code> to force the correct tokenizer.
      </div>
    </div>
  </div>

  {/* Token Card */}
  <div className="flex flex-col p-5 rounded-lg border border-fd-border bg-fd-card shadow-sm transition-all hover:border-fd-primary/30">
    <div className="flex items-center gap-2.5 mb-4">
      <Coins className="w-4 h-4 text-orange-500" />
      <h3 className="font-semibold text-sm text-fd-foreground uppercase tracking-wide">Economy</h3>
    </div>
    <div className="space-y-3 text-sm text-fd-muted-foreground">
      <div className="flex items-center justify-between p-2 rounded bg-fd-secondary/40 border border-fd-border/50">
        <span className="text-xs font-medium">Density Factor</span>
        <code className="text-xs text-fd-foreground">1 Word ≈ 1.8 Tokens</code>
      </div>
      <div>
        Amharic is token-dense. Keep system prompts concise to reduce latency and costs.
      </div>
    </div>
  </div>

  {/* Reliability Card */}
  <div className="flex flex-col p-5 rounded-lg border border-fd-border bg-fd-card shadow-sm transition-all hover:border-fd-primary/30">
    <div className="flex items-center gap-2.5 mb-4">
      <ShieldAlert className="w-4 h-4 text-red-500" />
      <h3 className="font-semibold text-sm text-fd-foreground uppercase tracking-wide">Robustness</h3>
    </div>
    <div className="space-y-3 text-sm text-fd-muted-foreground">
      <div>
        <strong className="text-fd-foreground">Retries:</strong> Implement exponential backoff for <code>500</code> or <code>429</code> status codes.
      </div>
      <div>
        <strong className="text-fd-foreground">Safety:</strong> Handle <code>finish_reason: "safety"</code> gracefully in your UI if the model refuses a prompt.
      </div>
    </div>
  </div>

</div>